<template name="Recipe">
    <article class="recipe {{#if inMenu}}in-menu{{/if}}">
        <h3>{{name}}</h3>


        <!--raix:handlebar-helpers package allows to use $.Session. "editMode" event is set up in Template.Recipe.events (file Recipe.js)-->
        {{#if $.Session.get 'editMode'}}

            {{> quickForm
                    collection="Recipes"
                    id=updateRecipeId
                    type="update"
                    doc=this
                    autosave=thue
            }}

        {{else}}

            <p>{{desc}}</p>
            <p>
                {{#each ingredients}}
                    <span class="ingredient">{{name}} - {{amount}}</span>
                {{/each}}
            </p>
            <a href="/recipe/{{_id}}">View Details</a>

            {{#if inMenu}}
                <button class="btn-deny toggle-menu">Remove from menu</button>
            {{else}}
                <button class="btn-primary toggle-menu">Add to menu</button>
            {{/if}}

        {{/if}}

        <i class="fa fa-pencil"></i>
        <i class="fa fa-trash"></i>

    </article>
</template>